# Release v23.0.0-beta.1

**Release Date:** 2024-12-05
**Type:** Feature Release
**Status:** Beta Testing

## Overview

Version 23.0.0 adds HTTP transport support to the PowerPlatform MCP server, enabling integration with ChatGPT and other HTTP-based MCP clients.

## Breaking Changes

None.

## New Features

### PowerPlatform: HTTP Server for ChatGPT Integration

Added an HTTP server entry point (`http-server.ts`) that enables the PowerPlatform MCP server to be used with ChatGPT via ngrok or similar tunneling solutions.

**Key Features:**
- Uses `StreamableHTTPServerTransport` from MCP SDK (recommended transport)
- Session management for concurrent connections
- CORS headers for ChatGPT compatibility
- Health check endpoint at `/health`
- All 40 read-only tools + 11 prompts available via HTTP

**New Files:**
- `packages/powerplatform/src/http-server.ts` - HTTP server entry point

**New Dependencies:**
- `express` ^4.21.0
- `@types/express` ^4.17.21 (devDependency)

**New Commands:**
- `npm run start:http` - Start HTTP server on port 3000
- `mcp-pp-http` - Binary entry point for HTTP server

## Changes to Existing Features

- Added `express` as dependency to `@mcp-consultant-tools/powerplatform`
- Added `start:http` script to package.json
- Added `mcp-pp-http` binary entry point

## Beta Testing Configuration

### PowerPlatform HTTP Server (ChatGPT POC)

**Terminal 1 - Start HTTP Server:**
```bash
cd packages/powerplatform
npm run start:http
# Output: PowerPlatform MCP HTTP server running on http://localhost:3000/mcp
```

**Terminal 2 - Expose via ngrok:**
```bash
ngrok http 3000
# Output: Forwarding https://abc123.ngrok-free.app -> http://localhost:3000
```

**ChatGPT Setup:**
1. Settings → Connectors → Create
2. Name: "Dynamics CRM"
3. MCP Server URL: `https://abc123.ngrok-free.app/mcp`
4. Authentication: None
5. Test: "Show me my top 10 accounts from CRM"

**Environment Variables (same as stdio server):**
```
POWERPLATFORM_URL=https://yourorg.crm.dynamics.com
POWERPLATFORM_CLIENT_ID=your-client-id
POWERPLATFORM_CLIENT_SECRET=your-client-secret
POWERPLATFORM_TENANT_ID=your-tenant-id
```

## Beta Testing Checklist

- [ ] HTTP server starts without errors (`npm run start:http`)
- [ ] Health check endpoint returns OK (`curl http://localhost:3000/health`)
- [ ] ngrok tunnel works correctly
- [ ] ChatGPT can connect to MCP endpoint
- [ ] Tool calls work (e.g., list entities, query records)
- [ ] Session management works for concurrent connections
- [ ] Existing stdio server still works (`mcp-pp`)

## Security Notes

This HTTP server is **POC only** and not production-ready:
- No authentication on HTTP endpoint
- Service account credentials in environment variables
- Anyone with ngrok URL can access

For production: Would need OAuth 2.0 flow with per-user Entra ID authentication.

## Support

Report issues at: https://github.com/klemensms/mcp-consultant-tools/issues
